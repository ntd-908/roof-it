<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <preference for="Magento\Framework\View\Design\Theme\Image"
                type="MageBig\MbFrame\Framework\View\Design\Theme\Image" />

    <preference for="Magento\Framework\App\Config\Initial"
                type="MageBig\MbFrame\Framework\App\Config\Initial" />
    <preference for="Magento\Framework\App\Config\Initial\Reader"
                type="MageBig\MbFrame\Framework\App\Config\Initial\Reader" />
    <type name="MageBig\MbFrame\Framework\App\Config\Initial">
        <arguments>
            <argument name="reader" xsi:type="object">MageBig\MbFrame\Framework\App\Config\Initial\Reader\Proxy</argument>
        </arguments>
    </type>

     <type name="Magento\Store\Controller\Store\SwitchAction">
        <plugin name="mb_store_switch" type="MageBig\MbFrame\Plugin\Store\Controller\Store\StoreSwitch"/>
    </type>

    <type name="Magento\LoginAsCustomer\Model\AuthenticateCustomerBySecret">
        <plugin name="magebig_login_as_customer" type="MageBig\MbFrame\Plugin\LoginAsCustomer\Model\AuthenticateCustomerBySecret"/>
    </type>

    <type name="Magento\Paypal\Model\Config">
        <plugin name="magebig_paypal_express_shortcut"
                type="MageBig\MbFrame\Plugin\Paypal\Model\ConfigPlugin"/>
    </type>

    <virtualType name="DefaultWYSIWYGValidator">
        <arguments>
            <argument name="allowedTags" xsi:type="array">
                <item name="iframe" xsi:type="string">iframe</item>
                <item name="blockquote" xsi:type="string">blockquote</item>
                <item name="picture" xsi:type="string">picture</item>
                <item name="source" xsi:type="string">source</item>
            </argument>
            <argument name="allowedAttributes" xsi:type="array">
                <item name="data-src" xsi:type="string">data-src</item>
                <item name="data-date" xsi:type="string">data-date</item>
                <item name="data-role" xsi:type="string">data-role</item>
                <item name="data-object-fit" xsi:type="string">data-object-fit</item>
                <item name="data-mfp-src" xsi:type="string">data-mfp-src</item>
            </argument>
            <argument name="attributesAllowedByTags" xsi:type="array">
                <item name="a" xsi:type="array">
                    <item name="rel" xsi:type="string">rel</item>
                </item>
                <item name="img" xsi:type="array">
                    <item name="loading" xsi:type="string">loading</item>
                    <item name="srcset" xsi:type="string">srcset</item>
                    <item name="fetchpriority" xsi:type="string">fetchpriority</item>
                </item>
                <item name="source" xsi:type="array">
                    <item name="media" xsi:type="string">media</item>
                    <item name="srcset" xsi:type="string">srcset</item>
                    <item name="width" xsi:type="string">width</item>
                    <item name="height" xsi:type="string">height</item>
                </item>
                <item name="iframe" xsi:type="array">
                    <item name="loading" xsi:type="string">loading</item>
                </item>
            </argument>
        </arguments>
    </virtualType>
</config>
